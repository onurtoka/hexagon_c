<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hexagonal C++ Example: B_Hexagon API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mermaid.css" rel="stylesheet" type="text/css"/>
<!-- Mermaid.js for custom diagrams -->
<script src="mermaid.min.js"></script>
<script src="mermaid-init.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectname">Hexagonal C++ Example
  <span id="projectnumber">&#160;1.0</span>
  </td>
   <td>        C++17 Hexagonal Architecture Track Delay Calculator</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2_a_p_i___d_o_c_u_m_e_n_t_a_t_i_o_n.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">B_Hexagon API Documentation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> </p>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p>The B_Hexagon Track Delay Calculator provides a comprehensive API for processing track data with delay calculations. This document outlines all public interfaces, data structures, and usage patterns.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Core Domain Models</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
TrackData</h2>
<p>Input data structure representing track information with mixed time units.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_track_data.html">TrackData</a> {</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_variable" href="class_track_data.html#a52fac56e35b0b1e6d942e7943219e4de">trackId</a>;                    </div>
<div class="line">    <span class="keywordtype">double</span> velocityX;               </div>
<div class="line">    <span class="keywordtype">double</span> velocityY;               </div>
<div class="line">    <span class="keywordtype">double</span> positionX;               </div>
<div class="line">    <span class="keywordtype">double</span> positionY;               </div>
<div class="line">    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_track_data.html#a4904cc4db3305c1bd4e9a28629c20770">updateTime</a>;                </div>
<div class="line">    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_track_data.html#a875e09edd4d557a6c553aa9741f29fc0">originalUpdateTime</a>;        </div>
<div class="line">    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_track_data.html#ac0ecb936d72f72ba9cb4fe1375847459">firstHopSentTime</a>;          </div>
<div class="line">};</div>
<div class="ttc" id="aclass_track_data_html"><div class="ttname"><a href="class_track_data.html">TrackData</a></div><div class="ttdoc">Input domain value object carrying raw track kinematic &amp; timing attributes.</div><div class="ttdef"><b>Definition</b> TrackData.hpp:16</div></div>
<div class="ttc" id="aclass_track_data_html_a4904cc4db3305c1bd4e9a28629c20770"><div class="ttname"><a href="class_track_data.html#a4904cc4db3305c1bd4e9a28629c20770">TrackData::updateTime</a></div><div class="ttdeci">long updateTime</div><div class="ttdoc">Time of the last update (nanoseconds)</div><div class="ttdef"><b>Definition</b> TrackData.hpp:25</div></div>
<div class="ttc" id="aclass_track_data_html_a52fac56e35b0b1e6d942e7943219e4de"><div class="ttname"><a href="class_track_data.html#a52fac56e35b0b1e6d942e7943219e4de">TrackData::trackId</a></div><div class="ttdeci">int trackId</div><div class="ttdoc">Unique identifier for the TrackData.</div><div class="ttdef"><b>Definition</b> TrackData.hpp:18</div></div>
<div class="ttc" id="aclass_track_data_html_a875e09edd4d557a6c553aa9741f29fc0"><div class="ttname"><a href="class_track_data.html#a875e09edd4d557a6c553aa9741f29fc0">TrackData::originalUpdateTime</a></div><div class="ttdeci">long originalUpdateTime</div><div class="ttdoc">Original update time (milliseconds)</div><div class="ttdef"><b>Definition</b> TrackData.hpp:26</div></div>
<div class="ttc" id="aclass_track_data_html_ac0ecb936d72f72ba9cb4fe1375847459"><div class="ttname"><a href="class_track_data.html#ac0ecb936d72f72ba9cb4fe1375847459">TrackData::firstHopSentTime</a></div><div class="ttdeci">long firstHopSentTime</div><div class="ttdoc">Time when first hop was sent (nanoseconds)</div><div class="ttdef"><b>Definition</b> TrackData.hpp:27</div></div>
</div><!-- fragment --><p><b>Usage:</b> </p><div class="fragment"><div class="line"><a class="code hl_class" href="class_track_data.html">TrackData</a> track{</div>
<div class="line">    .<a class="code hl_variable" href="class_track_data.html#a52fac56e35b0b1e6d942e7943219e4de">trackId</a> = 12345,</div>
<div class="line">    .velocityX = 15.5,</div>
<div class="line">    .velocityY = -8.2,</div>
<div class="line">    .positionX = 1000.0,</div>
<div class="line">    .positionY = 2000.0,</div>
<div class="line">    .updateTime = 1672531200000000000L,  <span class="comment">// ns</span></div>
<div class="line">    .originalUpdateTime = 1672531200000L, <span class="comment">// ms</span></div>
<div class="line">    .firstHopSentTime = 1672531199000000000L <span class="comment">// ns</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
DelayCalculatedTrackData</h2>
<p>Output data structure extending <a class="el" href="class_track_data.html" title="Input domain value object carrying raw track kinematic &amp; timing attributes.">TrackData</a> with calculated delay metrics.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_delay_calculated_track_data.html">DelayCalculatedTrackData</a> {</div>
<div class="line">    <span class="comment">// Inherits all TrackData fields</span></div>
<div class="line">    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_delay_calculated_track_data.html#a18f0d033acc3547868d2cfb7679a99e5">firstHopDelayTime</a>;         </div>
<div class="line">    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_delay_calculated_track_data.html#a844477e7fe8a169aba8ed5fe6665233e">secondHopSentTime</a>;         </div>
<div class="line">};</div>
<div class="ttc" id="aclass_delay_calculated_track_data_html"><div class="ttname"><a href="class_delay_calculated_track_data.html">DelayCalculatedTrackData</a></div><div class="ttdoc">Output domain value object aggregating original TrackData fields plus derived delay metrics.</div><div class="ttdef"><b>Definition</b> DelayCalculatedTrackData.hpp:15</div></div>
<div class="ttc" id="aclass_delay_calculated_track_data_html_a18f0d033acc3547868d2cfb7679a99e5"><div class="ttname"><a href="class_delay_calculated_track_data.html#a18f0d033acc3547868d2cfb7679a99e5">DelayCalculatedTrackData::firstHopDelayTime</a></div><div class="ttdeci">long firstHopDelayTime</div><div class="ttdoc">Calculated delay for first hop (nanoseconds)</div><div class="ttdef"><b>Definition</b> DelayCalculatedTrackData.hpp:27</div></div>
<div class="ttc" id="aclass_delay_calculated_track_data_html_a844477e7fe8a169aba8ed5fe6665233e"><div class="ttname"><a href="class_delay_calculated_track_data.html#a844477e7fe8a169aba8ed5fe6665233e">DelayCalculatedTrackData::secondHopSentTime</a></div><div class="ttdeci">long secondHopSentTime</div><div class="ttdoc">Calculated time for second hop (nanoseconds)</div><div class="ttdef"><b>Definition</b> DelayCalculatedTrackData.hpp:28</div></div>
</div><!-- fragment --><p><b>Usage:</b> </p><div class="fragment"><div class="line"><a class="code hl_class" href="class_delay_calculated_track_data.html">DelayCalculatedTrackData</a> result = calculator.processTrack(track);</div>
<div class="line"><span class="comment">// result.firstHopDelayTime contains calculated delay</span></div>
<div class="line"><span class="comment">// result.secondHopSentTime contains forwarding timestamp</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
Calculation Logic</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
TrackCalculations</h2>
<p>Pure stateless calculation utilities for timing metrics.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_track_calculations.html">TrackCalculations</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">long</span> <a class="code hl_function" href="class_track_calculations.html#a667256730f5193686d3114e5494cad4e">calculateFirstHopDelayTime</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_track_data.html">TrackData</a>&amp; trackData, <span class="keywordtype">long</span> receiveTimeNs);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">long</span> <a class="code hl_function" href="class_track_calculations.html#a9bba5b67b4497fb443b56c6e7dd6c45a">calculateSecondHopSentTime</a>();</div>
<div class="line">};</div>
<div class="ttc" id="aclass_track_calculations_html"><div class="ttname"><a href="class_track_calculations.html">TrackCalculations</a></div><div class="ttdoc">Pure stateless calculation utilities for TrackData timing metrics.</div><div class="ttdef"><b>Definition</b> TrackCalculations.hpp:32</div></div>
<div class="ttc" id="aclass_track_calculations_html_a667256730f5193686d3114e5494cad4e"><div class="ttname"><a href="class_track_calculations.html#a667256730f5193686d3114e5494cad4e">TrackCalculations::calculateFirstHopDelayTime</a></div><div class="ttdeci">static long calculateFirstHopDelayTime(const TrackData &amp;trackData, long receiveTimeNs)</div><div class="ttdoc">Calculates first hop delay time in nanoseconds.</div><div class="ttdef"><b>Definition</b> TrackCalculations.hpp:40</div></div>
<div class="ttc" id="aclass_track_calculations_html_a9bba5b67b4497fb443b56c6e7dd6c45a"><div class="ttname"><a href="class_track_calculations.html#a9bba5b67b4497fb443b56c6e7dd6c45a">TrackCalculations::calculateSecondHopSentTime</a></div><div class="ttdeci">static long calculateSecondHopSentTime()</div><div class="ttdoc">Calculates second hop sent time as the current system time in nanoseconds.</div><div class="ttdef"><b>Definition</b> TrackCalculations.hpp:48</div></div>
</div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">long</span> receiveTime = getCurrentTimeNs();</div>
<div class="line"><span class="keywordtype">long</span> firstHopDelay = <a class="code hl_function" href="class_track_calculations.html#a667256730f5193686d3114e5494cad4e">TrackCalculations::calculateFirstHopDelayTime</a>(track, receiveTime);</div>
<div class="line"><span class="keywordtype">long</span> secondHopTime = <a class="code hl_function" href="class_track_calculations.html#a9bba5b67b4497fb443b56c6e7dd6c45a">TrackCalculations::calculateSecondHopSentTime</a>();</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
Port Interfaces</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
IDataReceiver (Inbound Port)</h2>
<p>Interface for receiving track data from external sources.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_interface" href="class_i_data_receiver.html">IDataReceiver</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_function" href="class_i_data_receiver.html#abb77c4e3fc5ceb001635eb9278715743">~IDataReceiver</a>() = <span class="keywordflow">default</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="class_track_data.html">TrackData</a> <a class="code hl_function" href="class_i_data_receiver.html#a3876c1e633f292f74e8437c9db42b5aa">receive</a>() = 0;</div>
<div class="line">};</div>
<div class="ttc" id="aclass_i_data_receiver_html"><div class="ttname"><a href="class_i_data_receiver.html">IDataReceiver</a></div><div class="ttdoc">Abstraction for receiving a single TrackData instance from an external source.</div><div class="ttdef"><b>Definition</b> IDataReceiver.hpp:36</div></div>
<div class="ttc" id="aclass_i_data_receiver_html_a3876c1e633f292f74e8437c9db42b5aa"><div class="ttname"><a href="class_i_data_receiver.html#a3876c1e633f292f74e8437c9db42b5aa">IDataReceiver::receive</a></div><div class="ttdeci">virtual TrackData receive()=0</div><div class="ttdoc">Obtain one TrackData item from the underlying source (blocking by default).</div></div>
<div class="ttc" id="aclass_i_data_receiver_html_abb77c4e3fc5ceb001635eb9278715743"><div class="ttname"><a href="class_i_data_receiver.html#abb77c4e3fc5ceb001635eb9278715743">IDataReceiver::~IDataReceiver</a></div><div class="ttdeci">virtual ~IDataReceiver() noexcept=default</div><div class="ttdoc">Virtual destructor for safe polymorphic deletion.</div></div>
</div><!-- fragment --><p><b>Implementation Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">class </span>CustomReceiver : <span class="keyword">public</span> <a class="code hl_interface" href="class_i_data_receiver.html">IDataReceiver</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_class" href="class_track_data.html">TrackData</a> <a class="code hl_function" href="class_i_data_receiver.html#a3876c1e633f292f74e8437c9db42b5aa">receive</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <span class="comment">// Custom implementation</span></div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="class_track_data.html">TrackData</a>{...};</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
IDataSender (Outbound Port)</h2>
<p>Interface for sending calculated results to external systems.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_interface" href="class_i_data_sender.html">IDataSender</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_function" href="class_i_data_sender.html#a8bb867889b021d3547a8e044f40a1e5d">~IDataSender</a>() = <span class="keywordflow">default</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_i_data_sender.html#a43884e2a8d38928a0a4169ab64ba8fcd">send</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_delay_calculated_track_data.html">DelayCalculatedTrackData</a>&amp; data) = 0;</div>
<div class="line">};</div>
<div class="ttc" id="aclass_i_data_sender_html"><div class="ttname"><a href="class_i_data_sender.html">IDataSender</a></div><div class="ttdoc">Abstraction representing a sink/egress for enriched track data.</div><div class="ttdef"><b>Definition</b> IDataSender.hpp:28</div></div>
<div class="ttc" id="aclass_i_data_sender_html_a43884e2a8d38928a0a4169ab64ba8fcd"><div class="ttname"><a href="class_i_data_sender.html#a43884e2a8d38928a0a4169ab64ba8fcd">IDataSender::send</a></div><div class="ttdeci">virtual void send(const DelayCalculatedTrackData &amp;data)=0</div><div class="ttdoc">Send one enriched DelayCalculatedTrackData instance to the external world.</div></div>
<div class="ttc" id="aclass_i_data_sender_html_a8bb867889b021d3547a8e044f40a1e5d"><div class="ttname"><a href="class_i_data_sender.html#a8bb867889b021d3547a8e044f40a1e5d">IDataSender::~IDataSender</a></div><div class="ttdeci">virtual ~IDataSender() noexcept=default</div><div class="ttdoc">Virtual destructor for polymorphic cleanup.</div></div>
</div><!-- fragment --><p><b>Implementation Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">class </span>CustomSender : <span class="keyword">public</span> <a class="code hl_interface" href="class_i_data_sender.html">IDataSender</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_i_data_sender.html#a43884e2a8d38928a0a4169ab64ba8fcd">send</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_delay_calculated_track_data.html">DelayCalculatedTrackData</a>&amp; data)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="comment">// Custom implementation</span></div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10"></a>
Application Service</h1>
<h2><a class="anchor" id="autotoc_md11"></a>
CalculatorService</h2>
<p>Orchestrates the receive → compute → send workflow.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_calculator_service.html">CalculatorService</a> final {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> <a class="code hl_class" href="class_calculator_service.html">CalculatorService</a>(std::unique_ptr&lt;IDataReceiver&gt; receiver, </div>
<div class="line">                               std::unique_ptr&lt;IDataSender&gt; sender);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">explicit</span> <a class="code hl_class" href="class_calculator_service.html">CalculatorService</a>(<a class="code hl_interface" href="class_i_data_receiver.html">IDataReceiver</a>* receiver, <a class="code hl_interface" href="class_i_data_sender.html">IDataSender</a>* sender);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_calculator_service.html#a769ea16b132231936fb0241586dd29e7">start</a>();</div>
<div class="line">};</div>
<div class="ttc" id="aclass_calculator_service_html"><div class="ttname"><a href="class_calculator_service.html">CalculatorService</a></div><div class="ttdoc">Orchestrates the continuous receive -&gt; compute -&gt; send workflow.</div><div class="ttdef"><b>Definition</b> CalculatorService.hpp:82</div></div>
<div class="ttc" id="aclass_calculator_service_html_a769ea16b132231936fb0241586dd29e7"><div class="ttname"><a href="class_calculator_service.html#a769ea16b132231936fb0241586dd29e7">CalculatorService::start</a></div><div class="ttdeci">void start()</div><div class="ttdoc">Begin the processing loop (blocking call).</div><div class="ttdef"><b>Definition</b> CalculatorService.cpp:31</div></div>
</div><!-- fragment --><p><b>Usage:</b> </p><div class="fragment"><div class="line"><span class="keyword">auto</span> receiver = std::make_unique&lt;ZeroMQDataReceiver&gt;(<span class="stringliteral">&quot;tcp://localhost:5555&quot;</span>, <span class="stringliteral">&quot;receivedTrack&quot;</span>);</div>
<div class="line"><span class="keyword">auto</span> sender = std::make_unique&lt;ZeroMQDataSender&gt;(<span class="stringliteral">&quot;tcp://*:5556&quot;</span>, <span class="stringliteral">&quot;calculatedTrack&quot;</span>);</div>
<div class="line"><a class="code hl_class" href="class_calculator_service.html">CalculatorService</a> service(std::move(receiver), std::move(sender));</div>
<div class="line">service.start(); <span class="comment">// Infinite processing loop</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md12"></a>
ZeroMQ Adapters</h1>
<h2><a class="anchor" id="autotoc_md13"></a>
ZeroMQDataReceiver</h2>
<p>Subscribes to ZeroMQ messages and deserializes JSON to <a class="el" href="class_track_data.html" title="Input domain value object carrying raw track kinematic &amp; timing attributes.">TrackData</a>.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_zero_m_q_data_receiver.html">ZeroMQDataReceiver</a> : <span class="keyword">public</span> <a class="code hl_interface" href="class_i_data_receiver.html">IDataReceiver</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> <a class="code hl_class" href="class_zero_m_q_data_receiver.html">ZeroMQDataReceiver</a>(<span class="keyword">const</span> std::string&amp; endpoint, <span class="keyword">const</span> std::string&amp; topic);</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_class" href="class_track_data.html">TrackData</a> <a class="code hl_function" href="class_zero_m_q_data_receiver.html#ae5310df102ffa285d1c466b32697885c">receive</a>() <span class="keyword">override</span>;</div>
<div class="line">};</div>
<div class="ttc" id="aclass_zero_m_q_data_receiver_html"><div class="ttname"><a href="class_zero_m_q_data_receiver.html">ZeroMQDataReceiver</a></div><div class="ttdoc">ZeroMQ SUB adapter for receiving TrackData published by a PUB socket (JSON format).</div><div class="ttdef"><b>Definition</b> ZeroMQDataReceiver.hpp:60</div></div>
<div class="ttc" id="aclass_zero_m_q_data_receiver_html_ae5310df102ffa285d1c466b32697885c"><div class="ttname"><a href="class_zero_m_q_data_receiver.html#ae5310df102ffa285d1c466b32697885c">ZeroMQDataReceiver::receive</a></div><div class="ttdeci">TrackData receive() override</div><div class="ttdoc">Receives and parses a TrackData object from ZeroMQ.</div><div class="ttdef"><b>Definition</b> ZeroMQDataReceiver.cpp:13</div></div>
</div><!-- fragment --><p><b>JSON Input Format:</b> </p><div class="fragment"><div class="line">{&quot;trackId&quot;:12345,&quot;velocityX&quot;:15.5,&quot;velocityY&quot;:-8.2,&quot;positionX&quot;:1000.0,&quot;positionY&quot;:2000.0,&quot;updateTime&quot;:1672531200000000000,&quot;originalUpdateTime&quot;:1672531200000,&quot;firstHopSentTime&quot;:1672531199000000000}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md14"></a>
ZeroMQDataSender</h2>
<p>Publishes <a class="el" href="class_delay_calculated_track_data.html" title="Output domain value object aggregating original TrackData fields plus derived delay metrics.">DelayCalculatedTrackData</a> as JSON messages.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_zero_m_q_data_sender.html">ZeroMQDataSender</a> : <span class="keyword">public</span> <a class="code hl_interface" href="class_i_data_sender.html">IDataSender</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> <a class="code hl_class" href="class_zero_m_q_data_sender.html">ZeroMQDataSender</a>(<span class="keyword">const</span> std::string&amp; endpoint, <span class="keyword">const</span> std::string&amp; topic);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_zero_m_q_data_sender.html#af14a074c4c707aca5228adedd4805129">send</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_delay_calculated_track_data.html">DelayCalculatedTrackData</a>&amp; data) <span class="keyword">override</span>;</div>
<div class="line">};</div>
<div class="ttc" id="aclass_zero_m_q_data_sender_html"><div class="ttname"><a href="class_zero_m_q_data_sender.html">ZeroMQDataSender</a></div><div class="ttdoc">ZeroMQ publisher adapter (PUB side) sending DelayCalculatedTrackData as JSON.</div><div class="ttdef"><b>Definition</b> ZeroMQDataSender.hpp:42</div></div>
<div class="ttc" id="aclass_zero_m_q_data_sender_html_af14a074c4c707aca5228adedd4805129"><div class="ttname"><a href="class_zero_m_q_data_sender.html#af14a074c4c707aca5228adedd4805129">ZeroMQDataSender::send</a></div><div class="ttdeci">void send(const DelayCalculatedTrackData &amp;d) override</div><div class="ttdoc">Serializes and publishes DelayCalculatedTrackData as JSON.</div><div class="ttdef"><b>Definition</b> ZeroMQDataSender.cpp:57</div></div>
</div><!-- fragment --><p><b>JSON Output Format:</b> </p><div class="fragment"><div class="line">{&quot;trackId&quot;:12345,&quot;velocityX&quot;:15.5,&quot;velocityY&quot;:-8.2,&quot;positionX&quot;:1000.0,&quot;positionY&quot;:2000.0,&quot;updateTime&quot;:1672531200000000000,&quot;originalUpdateTime&quot;:1672531200000,&quot;firstHopSentTime&quot;:1672531199000000000,&quot;firstHopDelayTime&quot;:1000000000,&quot;secondHopSentTime&quot;:1672531201000000000}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Error Handling</h1>
<h2><a class="anchor" id="autotoc_md16"></a>
Exception Types</h2>
<p>All interfaces may throw <code>std::runtime_error</code> for operational failures:</p>
<div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    <a class="code hl_class" href="class_track_data.html">TrackData</a> data = receiver-&gt;receive();</div>
<div class="line">    <span class="comment">// Process data...</span></div>
<div class="line">} <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::runtime_error&amp; e) {</div>
<div class="line">    <span class="comment">// Handle receive failure</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Receive error: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md17"></a>
MISRA Exception Safety</h2>
<p>All components provide strong exception safety guarantees:</p><ul>
<li><b>Basic Guarantee:</b> No resource leaks on exception</li>
<li><b>Strong Guarantee:</b> Transaction semantics (success or no change)</li>
<li><b>No-throw Guarantee:</b> Operations marked with <code>noexcept</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md18"></a>
Testing Support</h1>
<h2><a class="anchor" id="autotoc_md19"></a>
Mock Implementations</h2>
<p>Test-friendly mock implementations for unit testing:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MockReceiver : <span class="keyword">public</span> <a class="code hl_interface" href="class_i_data_receiver.html">IDataReceiver</a> {</div>
<div class="line">    std::queue&lt;TrackData&gt; data_;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> addTestData(<span class="keyword">const</span> <a class="code hl_class" href="class_track_data.html">TrackData</a>&amp; track) { data_.push(track); }</div>
<div class="line">    <a class="code hl_class" href="class_track_data.html">TrackData</a> <a class="code hl_function" href="class_i_data_receiver.html#a3876c1e633f292f74e8437c9db42b5aa">receive</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordflow">if</span> (data_.empty()) <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;No test data&quot;</span>);</div>
<div class="line">        <span class="keyword">auto</span> result = data_.front();</div>
<div class="line">        data_.pop();</div>
<div class="line">        <span class="keywordflow">return</span> result;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MockSender : <span class="keyword">public</span> <a class="code hl_interface" href="class_i_data_sender.html">IDataSender</a> {</div>
<div class="line">    std::vector&lt;DelayCalculatedTrackData&gt; sent_;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_i_data_sender.html#a43884e2a8d38928a0a4169ab64ba8fcd">send</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_delay_calculated_track_data.html">DelayCalculatedTrackData</a>&amp; data)<span class="keyword"> override </span>{</div>
<div class="line">        sent_.push_back(data);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; getSentData()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> sent_; }</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md20"></a>
Unit Test Example</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> testCalculatorService() {</div>
<div class="line">    <span class="keyword">auto</span> mockReceiver = std::make_unique&lt;MockReceiver&gt;();</div>
<div class="line">    <span class="keyword">auto</span> mockSender = std::make_unique&lt;MockSender&gt;();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Setup test data</span></div>
<div class="line">    <a class="code hl_class" href="class_track_data.html">TrackData</a> testTrack{<span class="comment">/* ... */</span>};</div>
<div class="line">    mockReceiver-&gt;addTestData(testTrack);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Test service</span></div>
<div class="line">    <a class="code hl_class" href="class_calculator_service.html">CalculatorService</a> service(std::move(mockReceiver), std::move(mockSender));</div>
<div class="line">    <span class="comment">// service.processOne(); // If such method existed</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Verify results</span></div>
<div class="line">    assert(!mockSender-&gt;getSentData().empty());</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md21"></a>
Configuration</h1>
<h2><a class="anchor" id="autotoc_md22"></a>
ZeroMQ Endpoints</h2>
<p>Default configuration for development:</p><ul>
<li><b>Input:</b> <code>tcp://localhost:5555</code> subscribing to <code>receivedTrack</code></li>
<li><b>Output:</b> <code>tcp://*:5556</code> publishing to <code>calculatedTrack</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md23"></a>
Production Configuration</h2>
<div class="fragment"><div class="line"><span class="comment">// High-availability setup</span></div>
<div class="line"><span class="keyword">auto</span> receiver = std::make_unique&lt;ZeroMQDataReceiver&gt;(</div>
<div class="line">    <span class="stringliteral">&quot;tcp://track-source.company.com:5555&quot;</span>, </div>
<div class="line">    <span class="stringliteral">&quot;receivedTrack&quot;</span></div>
<div class="line">);</div>
<div class="line"><span class="keyword">auto</span> sender = std::make_unique&lt;ZeroMQDataSender&gt;(</div>
<div class="line">    <span class="stringliteral">&quot;tcp://*:5556&quot;</span>, </div>
<div class="line">    <span class="stringliteral">&quot;calculatedTrack&quot;</span></div>
<div class="line">);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md24"></a>
Time Handling</h1>
<h2><a class="anchor" id="autotoc_md25"></a>
Units and Precision</h2>
<ul>
<li><b>Input Time Fields:</b><ul>
<li><code>updateTime</code>: nanoseconds since epoch (long)</li>
<li><code>originalUpdateTime</code>: milliseconds since epoch (long)</li>
<li><code>firstHopSentTime</code>: nanoseconds since epoch (long)</li>
</ul>
</li>
<li><b>Calculated Fields:</b><ul>
<li><code>firstHopDelayTime</code>: nanoseconds (long)</li>
<li><code>secondHopSentTime</code>: nanoseconds since epoch (long)</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
Time Conversion Utilities</h2>
<div class="fragment"><div class="line"><span class="comment">// Convert milliseconds to nanoseconds</span></div>
<div class="line"><span class="keywordtype">long</span> msToNs(<span class="keywordtype">long</span> milliseconds) {</div>
<div class="line">    <span class="keywordflow">return</span> milliseconds * 1000000L;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Convert nanoseconds to milliseconds  </span></div>
<div class="line"><span class="keywordtype">long</span> nsToMs(<span class="keywordtype">long</span> nanoseconds) {</div>
<div class="line">    <span class="keywordflow">return</span> nanoseconds / 1000000L;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get current time in nanoseconds</span></div>
<div class="line"><span class="keywordtype">long</span> getCurrentTimeNs() {</div>
<div class="line">    <span class="keyword">auto</span> now = std::chrono::system_clock::now();</div>
<div class="line">    <span class="keywordflow">return</span> std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(</div>
<div class="line">        now.time_since_epoch()</div>
<div class="line">    ).count();</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md27"></a>
Performance Considerations</h1>
<h2><a class="anchor" id="autotoc_md28"></a>
Memory Management</h2>
<ul>
<li><b>RAII:</b> All resources managed with smart pointers</li>
<li><b>Zero-copy:</b> Efficient message passing between layers</li>
<li><b>Stack Allocation:</b> Prefer stack over heap for temporary objects</li>
</ul>
<h2><a class="anchor" id="autotoc_md29"></a>
Threading</h2>
<ul>
<li><b>Single-threaded:</b> Current implementation uses blocking I/O</li>
<li><b>Thread Safety:</b> Components are not thread-safe by design</li>
<li><b>Future Enhancement:</b> Can be made thread-safe with proper synchronization</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
Latency Optimization</h2>
<ul>
<li><b>Minimal Allocations:</b> Reuse objects where possible</li>
<li><b>Direct JSON Parsing:</b> No intermediate string copies</li>
<li><b>Fast Path:</b> Optimized calculation functions</li>
</ul>
<h1><a class="anchor" id="autotoc_md31"></a>
MISRA C++ 2023 Compliance</h1>
<p>All public APIs comply with MISRA C++ 2023 guidelines:</p><ul>
<li><b>Explicit Constructors:</b> Prevent implicit conversions</li>
<li><b>Const Correctness:</b> Immutable interfaces where appropriate</li>
<li><b>Exception Safety:</b> Strong guarantees with proper cleanup</li>
<li><b>Type Safety:</b> No C-style casts or implicit conversions</li>
<li><b>Resource Management:</b> RAII pattern throughout</li>
</ul>
<p>This ensures the API is suitable for safety-critical applications and long-term maintenance. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
